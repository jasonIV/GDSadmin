(window["webpackJsonpreact-gh-pages"]=window["webpackJsonpreact-gh-pages"]||[]).push([[0],{50:function(e,t,a){e.exports=a(87)},55:function(e,t,a){},56:function(e,t,a){},83:function(e,t,a){e.exports=a.p+"static/media/icon.c241c4e3.png"},87:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),o=a.n(c),l=(a(55),a(56),a(11)),i=a(12),s=a(15),u=a(16);a(64);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var m={auth:{},loading:!1,error:{}},f=a(18),E=a.n(f);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var O={loading:!1,success:!1,error:{}},g="https://us-central1-gdsprototypeapi-1968a.cloudfunctions.net/app/api/";function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v={transactions:[],dsuccess:!1,dloading:!1,tloading:!1,error:{}},A=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return d({},e,{auth:t.payload,loading:!1});case"LOGIN_LOADING":return d({},e,{loading:!0});case"LOGIN_ERROR":return d({},e,{error:t.payload,loading:!1});case"LOGOUT_SUCCESS":return d({},e,{auth:{},loading:!1,error:{}});case"LOGOUT_ERROR":return d({},e,{loading:!1,error:t.payload});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_BALANCE_SUCCESS":return b({},e,{loading:!1,success:!0,error:{}});case"UPDATE_BALANCE_LOADING":return b({},e,{success:!1,loading:!0,error:{}});case"UPDATE_BALANCE_ERROR":return{loading:!1,success:!1,error:t.payload};default:return e}},hist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TRANSACTION_LOADING":return N({},e,{tloading:!0});case"TRANSACTION_SUCCESS":return N({},e,{tloading:!1,transactions:t.payload});case"TRANSACTION_ERROR":return N({},e,{error:t.payload});case"DELETE_TRANSACTION_LOADING":return N({},e,{dloading:!0});case"DELETE_TRANSACTION_SUCCESS":return N({},e,{dloading:!1,dsuccess:!0});case"DELETE_TRANSACTION_ERROR":return N({},e,{dloading:!1,error:t.payload});default:return e}}}),S=a(45);var j=a(20),R=a(21),w=a(23),C=a(22),T=a(24),_=a(8),D=a(13),I=(a(83),a(10));var P=Object(l.b)(function(e){return{auth:e.auth.auth,loading:e.auth.loading,error:e.auth.error}},{signIn:function(e,t){return function(a){a({type:"LOGIN_LOADING"}),u.auth().signInWithEmailAndPassword(e,t).catch(function(e){return a({type:"LOGIN_ERROR",payload:e})}),u.auth().onAuthStateChanged(function(e){e&&a({type:"LOGIN_SUCCESS",payload:e})})}}})(function(e){var t=e.auth,a=e.error,c=e.loading,o=Object(n.useRef)(null),l=Object(n.useRef)(null),i=function(e){return Object.keys(e).length};return Object(n.useEffect)(function(){i(t)&&e.history.push("/dashboard")},[t]),r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"singin"},r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"text-center"},"GDS Admin App")),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"signin"},r.a.createElement("p",{className:"title"},"Sign In"),r.a.createElement("img",{src:"https://i.imgur.com/Uwx156f.png",alt:"SIGNIN"})),r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"text",name:"",placeholder:"Email",ref:o,required:!0}),r.a.createElement("input",{type:"password",name:"",placeholder:"Password",ref:l,required:!0}),i(a)?r.a.createElement("div",{style:{color:"red"}},a.message):null,r.a.createElement("button",{className:"btn-com btn-m-t",onClick:function(t){e.signIn(o.current.value,l.current.value)}},c?r.a.createElement("p",null,"Loading"):r.a.createElement("p",null,"Sign In")))))))}),L=a(48);var k=Object(l.b)(function(e){return{auth:e.auth.auth,success:e.dashboard.success,loading:e.dashboard.loading,error:e.dashboard.error}},{signOut:function(){return function(e){u.auth().signOut().then(function(){u.auth().onAuthStateChanged(function(t){t||e({type:"LOGOUT_SUCCESS"})})}).catch(function(t){e({type:"LOGOUT_ERROR",payload:t})})}},updateBalance:function(e,t){return function(a){a({type:"UPDATE_BALANCE_LOADING"}),E.a.put("".concat("https://us-central1-gdsprototypeapi-1968a.cloudfunctions.net/app/api/","balance/add/").concat(e),{gds_balance:t}).then(function(e){a({type:"UPDATE_BALANCE_SUCCESS"}),alert("Balance has been updated.")}).catch(function(e){return a({type:"UPDATE_BALANCE_ERROR",payload:e})})}}})(function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),c=e.auth,o=(e.success,e.loading),l=e.error,i=function(e){return Object.keys(e).length};return Object(n.useEffect)(function(){i(c)||e.history.push("/signin")},[c]),r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"dashboard main-content"},r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"text-center"},"GDS Admin App")),r.a.createElement("div",{className:"balance inn-content"},r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"number",name:"",placeholder:"Phone Number",ref:t,required:!0}),r.a.createElement("input",{type:"number",name:"",placeholder:"Balance Amount",ref:a,required:!0}),i(l)?r.a.createElement("div",{style:{textAlign:"center",color:"red"}},l.message):null,r.a.createElement("button",{className:"btn-com btn-m-t",onClick:function(n){e.updateBalance(t.current.value,a.current.value)}},o?r.a.createElement("p",null,"Loading"):r.a.createElement("p",null,"Add Balance")),r.a.createElement("button",{type:"button",onClick:function(t){e.signOut()},className:"btn-com"},r.a.createElement(I.a,null)," Log Out")),r.a.createElement("div",{className:"history-list"},r.a.createElement(_.b,{to:"/history"},r.a.createElement(L.a,null))))))}),G=function(e){function t(){return Object(j.a)(this,t),Object(w.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"dashboard main-content"},r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"text-center"},r.a.createElement(_.b,{to:"/dashboard",className:"cl-white bk-btn",value:"dashboard"},r.a.createElement(I.a,null)),"GDS Agent App")),r.a.createElement("div",{className:"history inn-content"},r.a.createElement("p",{className:"text-center"},"HandlePatner Apps"))))}}]),t}(n.Component);var U=function(e){return r.a.createElement("div",{className:"detail"},r.a.createElement("p",{className:"name"},e.name),r.a.createElement("p",{className:"acc"},e.phoneNo),r.a.createElement("p",{className:"amount"},"MMK - ",e.amount),r.a.createElement("p",{className:"time"},e.time.toDateString()),r.a.createElement("button",{className:"btn-com",style:{width:"auto",float:"left"},onClick:function(t){e.Rollback(t,e.id)}},"Rollback"))},B=a(49);a(85);var x=Object(B.a)([function(e){return e.hist.transactions}],function(e){return e.map(function(e){return{id:e.id,name:e.name,phoneNo:e.phoneNo,amount:e.amount,updatedBalance:e.updatedBalance,time:new Date(1e3*e.time._seconds)}})}),W=Object(l.b)(function(e){return{transactions:x(e),loading:e.hist.tloading,error:e.hist.error,dloading:e.hist.dloading}},{fetchTransactions:function(){return function(e){e({type:"TRANSACTION_LOADING"}),E.a.get("".concat(g,"balance/read")).then(function(t){e({type:"TRANSACTION_SUCCESS",payload:t.data})}).catch(function(t){e({type:"TRANSACTION_ERROR",payload:t})})}},deleteTransaction:function(e){return function(t){t({type:"DELETE_TRANSACTION_LOADING"}),E.a.put("".concat(g,"balance/rollback"),{id:e}).then(function(e){t({type:"DELETE_TRANSACTION_SUCCESS"}),alert("Rolled back successfully.")}).catch(function(e){t({type:"DELETE_TRANSACTION_ERROR",payload:e})})}}})(function(e){function t(t,a){t.preventDefault(),t.stopPropagation(),e.deleteTransaction(a),e.fetchTransactions()}Object(n.useEffect)(function(){e.fetchTransactions()},[]);var a=e.transactions,c=e.tloading;return e.dloading,e.error,r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"dashboard main-content"},r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"text-center"},r.a.createElement(_.b,{to:"/dashboard",className:"cl-white bk-btn",value:"dashboard"},r.a.createElement(I.a,null)),"GDS Admin App")),c?"Loading Please Wait...":r.a.createElement("div",{className:"history inn-content"},0===a.length?"Loading ...":a.map(function(e){return r.a.createElement(U,{id:e.id,name:e.name,phoneNo:e.phoneNo,amount:e.amount,updatedBalance:e.updatedBalance,time:e.time,Rollback:t})}))))});a(16).initializeApp({apiKey:"AIzaSyB8mP-ENsyflTPlE4LvzofWDd8IJp4fmyg",authDomain:"gdsprototypeapi-1968a.firebaseapp.com",databaseURL:"https://gdsprototypeapi-1968a.firebaseio.com",projectId:"gdsprototypeapi-1968a",storageBucket:"gdsprototypeapi-1968a.appspot.com",messagingSenderId:"363932682137",appId:"1:363932682137:web:a700beaa11413b0db0f508"});var q=function(e){function t(){return Object(j.a)(this,t),Object(w.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement(_.a,null,r.a.createElement("div",null,r.a.createElement(D.a,{exact:!0,path:"/",component:P}),r.a.createElement(D.a,{exact:!0,path:"/signin",component:P}),r.a.createElement(D.a,{exact:!0,path:"/dashboard",component:k}),r.a.createElement(D.a,{exact:!0,path:"/partnerApp",component:G}),r.a.createElement(D.a,{exact:!0,path:"/history",component:W})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z,J=(z={},Object(i.e)(A,z,Object(i.d)(Object(i.a)(S.a))));o.a.render(r.a.createElement(l.a,{store:J},r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,1,2]]]);
//# sourceMappingURL=main.9434ccda.chunk.js.map